<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thain√° ‚Äî Experi√™ncia Interativa</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,system-ui,sans-serif;}
body{overflow:hidden;background:#120010;color:#fff;cursor:default;}
canvas#fx{position:fixed;inset:0;z-index:0;}
#app{position:relative;z-index:1;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:20px;}

/* TELA INICIAL */
#intro, #choiceScreen{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;z-index:2;background:rgba(0,0,0,0.85);}
#intro h1,#choiceScreen h1{font-size:3rem;margin-bottom:10px;animation:fadeUp 1s ease forwards;}
#intro p,#choiceScreen p{opacity:0;margin-bottom:30px;font-size:1.2rem;max-width:500px;animation:fadeUp 1.5s ease forwards;}

/* BOT√ïES */
button#startBtn, button.optionBtn{
  padding:18px 50px;
  border:none;
  border-radius:60px;
  background:linear-gradient(135deg,#ff2a6d,#ff5f9e);
  color:#fff;
  font-size:1.4rem;
  cursor:pointer;
  box-shadow:0 15px 50px rgba(255,42,109,0.6);
  margin:12px;
  transition:transform .3s,box-shadow .3s,background .3s;
  animation:pulse 2s infinite;
}
button#startBtn:hover, button.optionBtn:hover{
  background:linear-gradient(135deg,#ff5f9e,#ff2a6d);
  transform:scale(1.05);
  box-shadow:0 20px 60px rgba(255,42,109,0.7);
}
button#startBtn:active, button.optionBtn:active{transform:scale(.95);}
@keyframes fadeUp{0%{opacity:0;transform:translateY(30px);}100%{opacity:1;transform:translateY(0);}}
@keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}

/* GALERIA */
.photo-container{position:relative;width:80%;max-width:500px;height:550px;border-radius:20px;overflow:hidden;box-shadow:0 20px 80px rgba(0,0,0,0.6);display:none;flex-direction:column;align-items:center;}
.photo-container img{width:100%;height:100%;object-fit:cover;transition:transform .6s,filter .6s;transform-origin:center;border-radius:15px;}
.overlay{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.7),transparent 60%);}
.caption{position:absolute;bottom:100px;left:20px;right:20px;font-size:1.3rem;line-height:1.4;opacity:0;transform:translateY(20px);transition:all .8s ease;text-shadow:0 0 8px rgba(0,0,0,.5);}
.caption.show{opacity:1;transform:translateY(0);}
.controls{margin-top:15px;display:flex;gap:30px;justify-content:center;z-index:10;}
.btn{padding:12px 28px;border-radius:40px;border:none;background:linear-gradient(135deg,#ff2a6d,#ff5f9e);color:#fff;font-size:1.1rem;cursor:pointer;box-shadow:0 10px 25px rgba(255,42,109,0.5);transition:transform .3s,background .3s,box-shadow .3s;}
.btn:hover{background:linear-gradient(135deg,#ff5f9e,#ff2a6d);transform:scale(1.05);box-shadow:0 15px 35px rgba(255,42,109,0.6);}
.btn:active{transform:scale(.95);}

/* TELA FINAL */
#final{position:absolute;inset:0;display:none;align-items:center;justify-content:center;flex-direction:column;text-align:center;background:rgba(0,0,0,0.95);}
#final h2{font-size:2.5rem;margin-bottom:15px;}
#final p{max-width:500px;opacity:.85;margin-bottom:20px;}
#final .all-photos{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-top:15px;}
#final .all-photos img{width:120px;height:120px;object-fit:cover;border-radius:15px;box-shadow:0 8px 20px rgba(0,0,0,0.6);transition:transform .3s;}
#final .all-photos img:hover{transform:scale(1.1);}
#final .btn#restartBtn{margin-top:30px;}

/* BOT√ÉO DE M√öSICA DISCRETO */
#musicControl{
  position:fixed;
  top:15px;
  right:15px;
  z-index:1000;
  background:rgba(255,42,109,0.8);
  border:none;
  border-radius:50%;
  width:50px;
  height:50px;
  font-size:1.2rem;
  color:#fff;
  cursor:pointer;
  box-shadow:0 5px 15px rgba(0,0,0,0.5);
  display:flex;
  align-items:center;
  justify-content:center;
  transition:transform .3s,background .3s;
}
#musicControl:hover{transform:scale(1.1);background:rgba(255,42,109,1);}

/* PARTICULAS CORA√á√ïES/FLORES */
.heart,.flower{position:absolute;bottom:-20px;font-size:20px;color:red;animation:floatUp linear forwards;opacity:.8;}
.flower{color:#ffb6c1;font-size:18px;}
@keyframes floatUp{0%{transform:translateY(0) scale(1);opacity:.9;}100%{transform:translateY(-110vh) scale(1.5);opacity:0;}}
</style>
</head>
<body>
<canvas id="fx"></canvas>
<div id="app">

  <button id="musicControl">üéµ</button>
  <audio id="musicPersonal" loop></audio>
  <audio id="musicFamily" loop></audio>

  <!-- TELA INICIAL -->
  <div id="intro">
    <h1>Presen√ßas √∫nicas</h1>
    <p>Algumas pessoas tornam o dia mais leve. Thain√° √© uma delas.</p>
    <button id="startBtn">Come√ßar</button>
  </div>

  <!-- TELA DE ESCOLHA -->
  <div id="choiceScreen" style="display:none;">
    <h1>Escolha uma experi√™ncia</h1>
    <button class="optionBtn" id="personalBtn">Thain√° Apenas</button>
    <button class="optionBtn" id="familyBtn">Thain√° Momentos com Filhos</button>
  </div>

  <!-- GALERIA -->
  <div class="photo-container" id="gallery">
    <img id="photo" src="" alt="Foto">
    <div class="overlay"></div>
    <div class="caption" id="caption"></div>
    <div class="controls">
      <button class="btn" id="prevBtn">‚óÄÔ∏è Voltar</button>
      <button class="btn" id="nextBtn">Pr√≥xima ‚ñ∂Ô∏è</button>
    </div>
  </div>

  <!-- TELA FINAL -->
  <div id="final">
    <h2 id="finalTitle"></h2>
    <p id="finalText"></p>
    <div class="all-photos" id="allPhotos"></div>
    <button class="btn" id="restartBtn">Voltar √† escolha</button>
  </div>

</div>

<script>
const parts = [
  {
    name:"Thain√°",
    music:"amor.mp3",
    photos:[
      {src:"foto1.jpg",text:"Seu sorriso deixa o dia mais leve."},
      {src:"foto2.jpg",text:"Momentos simples com voc√™ s√£o especiais."},
      {src:"foto3.jpg",text:"Sua presen√ßa transforma tudo ao redor."},
      {src:"foto4.jpg",text:"Olhar suas fotos j√° faz o cora√ß√£o sorrir."}
    ]
  },
  {
    name:"Thain√° Fam√≠lia",
    music:"familia.mp3",
    photos:[
      {src:"familia1.jpg",text:"Fam√≠lia √© onde o amor floresce."},
      {src:"familia2.jpg",text:"Momentos preciosos com seus filhos."},
      {src:"familia3.jpg",text:"O sorriso deles ilumina tudo."},
      {src:"familia4.jpg",text:"Mem√≥rias que ficam para sempre."}
    ]
  }
];

let currentPart=0,index=0,personalStarted=false;
const intro=document.getElementById("intro");
const choiceScreen=document.getElementById("choiceScreen");
const gallery=document.getElementById("gallery");
const finalScreen=document.getElementById("final");
const photoEl=document.getElementById("photo");
const captionEl=document.getElementById("caption");
const allPhotosContainer=document.getElementById("allPhotos");
const finalTitle=document.getElementById("finalTitle");
const finalText=document.getElementById("finalText");
const musicPersonal=document.getElementById("musicPersonal");
const musicFamily=document.getElementById("musicFamily");
const musicBtn=document.getElementById("musicControl");

musicBtn.onclick=()=>{
  if(currentPart===0){musicPersonal.paused?musicPersonal.play():musicPersonal.pause();}
  else if(currentPart===1){musicFamily.paused?musicFamily.play():musicFamily.pause();}
};

function loadPhoto(){
  captionEl.classList.remove("show");
  photoEl.classList.remove("zoom");
  setTimeout(()=>photoEl.classList.add("zoom"),50);
  const p=parts[currentPart].photos[index];
  photoEl.src=p.src;
  captionEl.textContent="";
  let txt=p.text,i=0;
  const interval=setInterval(()=>{
    captionEl.textContent+=txt[i];i++;
    if(i>=txt.length)clearInterval(interval);
  },25);
  setTimeout(()=>captionEl.classList.add("show"),100);
}

// INICIAR
document.getElementById("startBtn").onclick=()=>{
  intro.style.display="none";
  choiceScreen.style.display="flex";
  musicPersonal.src=parts[0].music;
  musicPersonal.play().then(()=>{personalStarted=true;}).catch(()=>{});
};

// ESCOLHAS
document.getElementById("personalBtn").onclick = () => {
    currentPart = 0;
    index = 0;
    choiceScreen.style.display = "none";
    gallery.style.display = "flex";

    photoEl.classList.remove("zoom");
    captionEl.classList.remove("show");

    loadPhoto();
    musicFamily.pause();
    if(!personalStarted){musicPersonal.play().then(()=>{personalStarted=true;}).catch(()=>{});}
};

document.getElementById("familyBtn").onclick = () => {
    currentPart = 1;
    index = 0;
    choiceScreen.style.display = "none";
    gallery.style.display = "flex";

    photoEl.classList.remove("zoom");
    captionEl.classList.remove("show");

    loadPhoto();
    musicPersonal.pause();
    musicFamily.src = parts[1].music;
    musicFamily.currentTime = 0;
    musicFamily.play().catch(()=>{});
};

// NAVEGA√á√ÉO
document.getElementById("nextBtn").onclick=()=>{
  if(index<parts[currentPart].photos.length-1){index++;loadPhoto();}
  else{
    gallery.style.display="none";
    finalScreen.style.display="flex";
    finalTitle.textContent=parts[currentPart].name;
    finalText.textContent=currentPart===0?"Presen√ßas assim tornam qualquer momento especial.":"Fam√≠lia √© onde o amor floresce e cada sorriso ilumina o dia.";
    allPhotosContainer.innerHTML="";
    parts[currentPart].photos.forEach(p=>{
      const img=document.createElement("img");
      img.src=p.src;
      allPhotosContainer.appendChild(img);
    });
  }
};
document.getElementById("prevBtn").onclick=()=>{if(index>0){index--;loadPhoto();}};

// VOLTAR √Ä ESCOLHA ‚Äî reinicia para Thain√°
document.getElementById("restartBtn").onclick=()=>{
  finalScreen.style.display="none";
  choiceScreen.style.display="flex";
  currentPart=0;
  index=0;
  gallery.style.display="none";

  musicFamily.pause();
  musicPersonal.src=parts[0].music;
  musicPersonal.play().then(()=>{personalStarted=true;}).catch(()=>{});
};

// PARTICULAS
const canvas=document.getElementById("fx");
const ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight;}
addEventListener("resize",resize);resize();
const hearts=[];
function spawn(x,y,type="heart"){hearts.push({x,y,s:6+Math.random()*10,vy:0.6+Math.random()*1.4,vx:(Math.random()-.5)*0.8,a:.5+Math.random()*.4,type});}
setInterval(()=>spawn(Math.random()*canvas.width,canvas.height+20,Math.random()<0.5?"heart":"flower"),500);
document.body.addEventListener("click",e=>{for(let i=0;i<12;i++)spawn(e.clientX,e.clientY,Math.random()<0.5?"heart":"flower");});
function drawShape(p){ctx.save();ctx.globalAlpha=p.a;
  if(p.type==="heart"){ctx.fillStyle="#ff2a4d";ctx.beginPath();
    ctx.moveTo(p.x,p.y);
    ctx.bezierCurveTo(p.x-p.s,p.y-p.s,p.x-2*p.s,p.y+p.s/2,p.x,p.y+2*p.s);
    ctx.bezierCurveTo(p.x+2*p.s,p.y+p.s/2,p.x,p.y-p.s,p.x,p.y);
    ctx.fill();
  }else{ctx.fillStyle="#ffb6c1";ctx.font=`${p.s*1.5}px serif`;ctx.fillText("‚ùÄ",p.x,p.y);}
  ctx.restore();
}
function anim(){ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let i=hearts.length-1;i>=0;i--){const p=hearts[i];p.y-=p.vy;p.x+=p.vx;drawShape(p);if(p.y<-60)hearts.splice(i,1);}
  requestAnimationFrame(anim);
}
anim();

// TILT NAS FOTOS
const photoBox=document.getElementById("gallery");
photoBox.addEventListener("mousemove",(e)=>{
  const rect=photoBox.getBoundingClientRect();
  const x=e.clientX-rect.left-rect.width/2;
  const y=e.clientY-rect.top-rect.height/2;
  photoBox.style.transform=`rotateY(${x/20}deg) rotateX(${-y/20}deg)`;
});
photoBox.addEventListener("mouseleave",()=>{photoBox.style.transform="rotateY(0deg) rotateX(0deg)";});
</script>
</body>
</html>